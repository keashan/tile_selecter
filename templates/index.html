<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width initial-scale=1.0 user-scalable=no">
        <title>Tile Selector</title>

        <link rel="stylesheet" href="{{ url_for('static', filename='css/tile_selector.css')}}">
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </head>
    <body>
        <h1 class="title">Tile Selector</h1>
        <div class="popup">
            <span onclick="closeFolder()">&times</span>
            <div class="popup-content">
                <div id="image-container"></div>
                <h2>Tile Name</h2>
                <p>Tile Description</p>
            </div>
        </div>
        <div class="content">
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
            <div class="tile" id="Field_Tile_CPRISB_Dark_Grey">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F01 NL.jpg" class="tile-image image1">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F02 NL.jpg" class="tile-image image2">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F03 NL.jpg" class="tile-image image3">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F04 NL.jpg" class="tile-image image4">
                <img src="static/images/Field_Tile_CPRISB_Dark_Grey/Field Tile CPRISB Dark Grey  12x12 F05 NL.jpg" class="tile-image image5">
            </div>
        </div>


        <script>
            document.querySelectorAll(".tile").forEach(tile => {
                tile.onclick=()=>{
                    openFolder(tile)
                }
            })
            function openFolder(tile) {
                let fld = tile.getAttribute("id")
                document.querySelector(".popup").style.display = "block";
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "images/" + fld, true);
                xhr.responseType = 'document';
                xhr.onload = () => {
                  if (xhr.status === 200) {
                    var elements = xhr.response.getElementsByTagName("a");
                    for (x of elements) {
                      if ( x.href.match(/\.(jpe?g|png|gif)$/) ) {
                          let img = document.createElement("img");
                          img.src = x.href;
                          document.body.appendChild(img);
                      }
                    };
                  }
                  else {
                    alert('Request failed. Returned status of ' + xhr.status);
                  }
                }
                xhr.send()

            }
            function closeFolder() {
                document.querySelector(".popup").style.display = "none";
            }



        </script>
    </body>
</html>